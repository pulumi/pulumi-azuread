// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package azuread

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-azuread/sdk/v6/go/azuread/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-azuread/sdk/v6/go/azuread"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			example, err := azuread.NewApplicationRegistration(ctx, "example", &azuread.ApplicationRegistrationArgs{
//				DisplayName: pulumi.String("example"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = azuread.NewApplicationFlexibleFederatedIdentityCredential(ctx, "example", &azuread.ApplicationFlexibleFederatedIdentityCredentialArgs{
//				ApplicationId:            example.ID(),
//				ClaimsMatchingExpression: pulumi.String("claims['sub'] matches 'repo:contoso/contoso-repo:ref:refs/heads/*' and claims['job_workflow_ref'] matches 'contoso/contoso-prod/.github/workflows/*.yml@refs/heads/main'"),
//				DisplayName:              pulumi.String("my-repo-deploy"),
//				Description:              pulumi.String("Deployments for my-repo"),
//				Audience:                 pulumi.String("api://AzureADTokenExchange"),
//				Issuer:                   pulumi.String("https://token.actions.githubusercontent.com"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Flexible Federated Identity Credentials can be imported using the object ID of the associated application and the ID of the flexible federated identity credential, e.g.
//
// ```sh
// $ pulumi import azuread:index/applicationFlexibleFederatedIdentityCredential:ApplicationFlexibleFederatedIdentityCredential example 00000000-0000-0000-0000-000000000000/federatedIdentityCredential/11111111-1111-1111-1111-111111111111
// ```
//
// -> This ID format is unique to Terraform and is composed of the application's object ID, the string "federatedIdentityCredential" and the credential ID in the format `{ObjectId}/federatedIdentityCredential/{CredentialId}`.
type ApplicationFlexibleFederatedIdentityCredential struct {
	pulumi.CustomResourceState

	// The resource ID of the application for which this federated identity credential should be created. Changing this field forces a new resource to be created.
	ApplicationId pulumi.StringOutput `pulumi:"applicationId"`
	// The audience that can appear in the external token. This specifies what should be accepted in the `aud` claim of incoming tokens.
	Audience pulumi.StringOutput `pulumi:"audience"`
	// The expression to match for claims. See the Preview Documentation for more information.
	ClaimsMatchingExpression pulumi.StringOutput `pulumi:"claimsMatchingExpression"`
	// A UUID used to uniquely identify this federated identity credential.
	CredentialId pulumi.StringOutput `pulumi:"credentialId"`
	// A description for the federated identity credential.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// A unique display name for the federated identity credential. Changing this forces a new resource to be created.
	DisplayName pulumi.StringOutput `pulumi:"displayName"`
	// The URL of the external identity provider, which must match the issuer claim of the external token being exchanged.
	Issuer pulumi.StringOutput `pulumi:"issuer"`
}

// NewApplicationFlexibleFederatedIdentityCredential registers a new resource with the given unique name, arguments, and options.
func NewApplicationFlexibleFederatedIdentityCredential(ctx *pulumi.Context,
	name string, args *ApplicationFlexibleFederatedIdentityCredentialArgs, opts ...pulumi.ResourceOption) (*ApplicationFlexibleFederatedIdentityCredential, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ApplicationId == nil {
		return nil, errors.New("invalid value for required argument 'ApplicationId'")
	}
	if args.Audience == nil {
		return nil, errors.New("invalid value for required argument 'Audience'")
	}
	if args.ClaimsMatchingExpression == nil {
		return nil, errors.New("invalid value for required argument 'ClaimsMatchingExpression'")
	}
	if args.DisplayName == nil {
		return nil, errors.New("invalid value for required argument 'DisplayName'")
	}
	if args.Issuer == nil {
		return nil, errors.New("invalid value for required argument 'Issuer'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ApplicationFlexibleFederatedIdentityCredential
	err := ctx.RegisterResource("azuread:index/applicationFlexibleFederatedIdentityCredential:ApplicationFlexibleFederatedIdentityCredential", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetApplicationFlexibleFederatedIdentityCredential gets an existing ApplicationFlexibleFederatedIdentityCredential resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetApplicationFlexibleFederatedIdentityCredential(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ApplicationFlexibleFederatedIdentityCredentialState, opts ...pulumi.ResourceOption) (*ApplicationFlexibleFederatedIdentityCredential, error) {
	var resource ApplicationFlexibleFederatedIdentityCredential
	err := ctx.ReadResource("azuread:index/applicationFlexibleFederatedIdentityCredential:ApplicationFlexibleFederatedIdentityCredential", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ApplicationFlexibleFederatedIdentityCredential resources.
type applicationFlexibleFederatedIdentityCredentialState struct {
	// The resource ID of the application for which this federated identity credential should be created. Changing this field forces a new resource to be created.
	ApplicationId *string `pulumi:"applicationId"`
	// The audience that can appear in the external token. This specifies what should be accepted in the `aud` claim of incoming tokens.
	Audience *string `pulumi:"audience"`
	// The expression to match for claims. See the Preview Documentation for more information.
	ClaimsMatchingExpression *string `pulumi:"claimsMatchingExpression"`
	// A UUID used to uniquely identify this federated identity credential.
	CredentialId *string `pulumi:"credentialId"`
	// A description for the federated identity credential.
	Description *string `pulumi:"description"`
	// A unique display name for the federated identity credential. Changing this forces a new resource to be created.
	DisplayName *string `pulumi:"displayName"`
	// The URL of the external identity provider, which must match the issuer claim of the external token being exchanged.
	Issuer *string `pulumi:"issuer"`
}

type ApplicationFlexibleFederatedIdentityCredentialState struct {
	// The resource ID of the application for which this federated identity credential should be created. Changing this field forces a new resource to be created.
	ApplicationId pulumi.StringPtrInput
	// The audience that can appear in the external token. This specifies what should be accepted in the `aud` claim of incoming tokens.
	Audience pulumi.StringPtrInput
	// The expression to match for claims. See the Preview Documentation for more information.
	ClaimsMatchingExpression pulumi.StringPtrInput
	// A UUID used to uniquely identify this federated identity credential.
	CredentialId pulumi.StringPtrInput
	// A description for the federated identity credential.
	Description pulumi.StringPtrInput
	// A unique display name for the federated identity credential. Changing this forces a new resource to be created.
	DisplayName pulumi.StringPtrInput
	// The URL of the external identity provider, which must match the issuer claim of the external token being exchanged.
	Issuer pulumi.StringPtrInput
}

func (ApplicationFlexibleFederatedIdentityCredentialState) ElementType() reflect.Type {
	return reflect.TypeOf((*applicationFlexibleFederatedIdentityCredentialState)(nil)).Elem()
}

type applicationFlexibleFederatedIdentityCredentialArgs struct {
	// The resource ID of the application for which this federated identity credential should be created. Changing this field forces a new resource to be created.
	ApplicationId string `pulumi:"applicationId"`
	// The audience that can appear in the external token. This specifies what should be accepted in the `aud` claim of incoming tokens.
	Audience string `pulumi:"audience"`
	// The expression to match for claims. See the Preview Documentation for more information.
	ClaimsMatchingExpression string `pulumi:"claimsMatchingExpression"`
	// A description for the federated identity credential.
	Description *string `pulumi:"description"`
	// A unique display name for the federated identity credential. Changing this forces a new resource to be created.
	DisplayName string `pulumi:"displayName"`
	// The URL of the external identity provider, which must match the issuer claim of the external token being exchanged.
	Issuer string `pulumi:"issuer"`
}

// The set of arguments for constructing a ApplicationFlexibleFederatedIdentityCredential resource.
type ApplicationFlexibleFederatedIdentityCredentialArgs struct {
	// The resource ID of the application for which this federated identity credential should be created. Changing this field forces a new resource to be created.
	ApplicationId pulumi.StringInput
	// The audience that can appear in the external token. This specifies what should be accepted in the `aud` claim of incoming tokens.
	Audience pulumi.StringInput
	// The expression to match for claims. See the Preview Documentation for more information.
	ClaimsMatchingExpression pulumi.StringInput
	// A description for the federated identity credential.
	Description pulumi.StringPtrInput
	// A unique display name for the federated identity credential. Changing this forces a new resource to be created.
	DisplayName pulumi.StringInput
	// The URL of the external identity provider, which must match the issuer claim of the external token being exchanged.
	Issuer pulumi.StringInput
}

func (ApplicationFlexibleFederatedIdentityCredentialArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*applicationFlexibleFederatedIdentityCredentialArgs)(nil)).Elem()
}

type ApplicationFlexibleFederatedIdentityCredentialInput interface {
	pulumi.Input

	ToApplicationFlexibleFederatedIdentityCredentialOutput() ApplicationFlexibleFederatedIdentityCredentialOutput
	ToApplicationFlexibleFederatedIdentityCredentialOutputWithContext(ctx context.Context) ApplicationFlexibleFederatedIdentityCredentialOutput
}

func (*ApplicationFlexibleFederatedIdentityCredential) ElementType() reflect.Type {
	return reflect.TypeOf((**ApplicationFlexibleFederatedIdentityCredential)(nil)).Elem()
}

func (i *ApplicationFlexibleFederatedIdentityCredential) ToApplicationFlexibleFederatedIdentityCredentialOutput() ApplicationFlexibleFederatedIdentityCredentialOutput {
	return i.ToApplicationFlexibleFederatedIdentityCredentialOutputWithContext(context.Background())
}

func (i *ApplicationFlexibleFederatedIdentityCredential) ToApplicationFlexibleFederatedIdentityCredentialOutputWithContext(ctx context.Context) ApplicationFlexibleFederatedIdentityCredentialOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ApplicationFlexibleFederatedIdentityCredentialOutput)
}

// ApplicationFlexibleFederatedIdentityCredentialArrayInput is an input type that accepts ApplicationFlexibleFederatedIdentityCredentialArray and ApplicationFlexibleFederatedIdentityCredentialArrayOutput values.
// You can construct a concrete instance of `ApplicationFlexibleFederatedIdentityCredentialArrayInput` via:
//
//	ApplicationFlexibleFederatedIdentityCredentialArray{ ApplicationFlexibleFederatedIdentityCredentialArgs{...} }
type ApplicationFlexibleFederatedIdentityCredentialArrayInput interface {
	pulumi.Input

	ToApplicationFlexibleFederatedIdentityCredentialArrayOutput() ApplicationFlexibleFederatedIdentityCredentialArrayOutput
	ToApplicationFlexibleFederatedIdentityCredentialArrayOutputWithContext(context.Context) ApplicationFlexibleFederatedIdentityCredentialArrayOutput
}

type ApplicationFlexibleFederatedIdentityCredentialArray []ApplicationFlexibleFederatedIdentityCredentialInput

func (ApplicationFlexibleFederatedIdentityCredentialArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ApplicationFlexibleFederatedIdentityCredential)(nil)).Elem()
}

func (i ApplicationFlexibleFederatedIdentityCredentialArray) ToApplicationFlexibleFederatedIdentityCredentialArrayOutput() ApplicationFlexibleFederatedIdentityCredentialArrayOutput {
	return i.ToApplicationFlexibleFederatedIdentityCredentialArrayOutputWithContext(context.Background())
}

func (i ApplicationFlexibleFederatedIdentityCredentialArray) ToApplicationFlexibleFederatedIdentityCredentialArrayOutputWithContext(ctx context.Context) ApplicationFlexibleFederatedIdentityCredentialArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ApplicationFlexibleFederatedIdentityCredentialArrayOutput)
}

// ApplicationFlexibleFederatedIdentityCredentialMapInput is an input type that accepts ApplicationFlexibleFederatedIdentityCredentialMap and ApplicationFlexibleFederatedIdentityCredentialMapOutput values.
// You can construct a concrete instance of `ApplicationFlexibleFederatedIdentityCredentialMapInput` via:
//
//	ApplicationFlexibleFederatedIdentityCredentialMap{ "key": ApplicationFlexibleFederatedIdentityCredentialArgs{...} }
type ApplicationFlexibleFederatedIdentityCredentialMapInput interface {
	pulumi.Input

	ToApplicationFlexibleFederatedIdentityCredentialMapOutput() ApplicationFlexibleFederatedIdentityCredentialMapOutput
	ToApplicationFlexibleFederatedIdentityCredentialMapOutputWithContext(context.Context) ApplicationFlexibleFederatedIdentityCredentialMapOutput
}

type ApplicationFlexibleFederatedIdentityCredentialMap map[string]ApplicationFlexibleFederatedIdentityCredentialInput

func (ApplicationFlexibleFederatedIdentityCredentialMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ApplicationFlexibleFederatedIdentityCredential)(nil)).Elem()
}

func (i ApplicationFlexibleFederatedIdentityCredentialMap) ToApplicationFlexibleFederatedIdentityCredentialMapOutput() ApplicationFlexibleFederatedIdentityCredentialMapOutput {
	return i.ToApplicationFlexibleFederatedIdentityCredentialMapOutputWithContext(context.Background())
}

func (i ApplicationFlexibleFederatedIdentityCredentialMap) ToApplicationFlexibleFederatedIdentityCredentialMapOutputWithContext(ctx context.Context) ApplicationFlexibleFederatedIdentityCredentialMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ApplicationFlexibleFederatedIdentityCredentialMapOutput)
}

type ApplicationFlexibleFederatedIdentityCredentialOutput struct{ *pulumi.OutputState }

func (ApplicationFlexibleFederatedIdentityCredentialOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ApplicationFlexibleFederatedIdentityCredential)(nil)).Elem()
}

func (o ApplicationFlexibleFederatedIdentityCredentialOutput) ToApplicationFlexibleFederatedIdentityCredentialOutput() ApplicationFlexibleFederatedIdentityCredentialOutput {
	return o
}

func (o ApplicationFlexibleFederatedIdentityCredentialOutput) ToApplicationFlexibleFederatedIdentityCredentialOutputWithContext(ctx context.Context) ApplicationFlexibleFederatedIdentityCredentialOutput {
	return o
}

// The resource ID of the application for which this federated identity credential should be created. Changing this field forces a new resource to be created.
func (o ApplicationFlexibleFederatedIdentityCredentialOutput) ApplicationId() pulumi.StringOutput {
	return o.ApplyT(func(v *ApplicationFlexibleFederatedIdentityCredential) pulumi.StringOutput { return v.ApplicationId }).(pulumi.StringOutput)
}

// The audience that can appear in the external token. This specifies what should be accepted in the `aud` claim of incoming tokens.
func (o ApplicationFlexibleFederatedIdentityCredentialOutput) Audience() pulumi.StringOutput {
	return o.ApplyT(func(v *ApplicationFlexibleFederatedIdentityCredential) pulumi.StringOutput { return v.Audience }).(pulumi.StringOutput)
}

// The expression to match for claims. See the Preview Documentation for more information.
func (o ApplicationFlexibleFederatedIdentityCredentialOutput) ClaimsMatchingExpression() pulumi.StringOutput {
	return o.ApplyT(func(v *ApplicationFlexibleFederatedIdentityCredential) pulumi.StringOutput {
		return v.ClaimsMatchingExpression
	}).(pulumi.StringOutput)
}

// A UUID used to uniquely identify this federated identity credential.
func (o ApplicationFlexibleFederatedIdentityCredentialOutput) CredentialId() pulumi.StringOutput {
	return o.ApplyT(func(v *ApplicationFlexibleFederatedIdentityCredential) pulumi.StringOutput { return v.CredentialId }).(pulumi.StringOutput)
}

// A description for the federated identity credential.
func (o ApplicationFlexibleFederatedIdentityCredentialOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ApplicationFlexibleFederatedIdentityCredential) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// A unique display name for the federated identity credential. Changing this forces a new resource to be created.
func (o ApplicationFlexibleFederatedIdentityCredentialOutput) DisplayName() pulumi.StringOutput {
	return o.ApplyT(func(v *ApplicationFlexibleFederatedIdentityCredential) pulumi.StringOutput { return v.DisplayName }).(pulumi.StringOutput)
}

// The URL of the external identity provider, which must match the issuer claim of the external token being exchanged.
func (o ApplicationFlexibleFederatedIdentityCredentialOutput) Issuer() pulumi.StringOutput {
	return o.ApplyT(func(v *ApplicationFlexibleFederatedIdentityCredential) pulumi.StringOutput { return v.Issuer }).(pulumi.StringOutput)
}

type ApplicationFlexibleFederatedIdentityCredentialArrayOutput struct{ *pulumi.OutputState }

func (ApplicationFlexibleFederatedIdentityCredentialArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ApplicationFlexibleFederatedIdentityCredential)(nil)).Elem()
}

func (o ApplicationFlexibleFederatedIdentityCredentialArrayOutput) ToApplicationFlexibleFederatedIdentityCredentialArrayOutput() ApplicationFlexibleFederatedIdentityCredentialArrayOutput {
	return o
}

func (o ApplicationFlexibleFederatedIdentityCredentialArrayOutput) ToApplicationFlexibleFederatedIdentityCredentialArrayOutputWithContext(ctx context.Context) ApplicationFlexibleFederatedIdentityCredentialArrayOutput {
	return o
}

func (o ApplicationFlexibleFederatedIdentityCredentialArrayOutput) Index(i pulumi.IntInput) ApplicationFlexibleFederatedIdentityCredentialOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ApplicationFlexibleFederatedIdentityCredential {
		return vs[0].([]*ApplicationFlexibleFederatedIdentityCredential)[vs[1].(int)]
	}).(ApplicationFlexibleFederatedIdentityCredentialOutput)
}

type ApplicationFlexibleFederatedIdentityCredentialMapOutput struct{ *pulumi.OutputState }

func (ApplicationFlexibleFederatedIdentityCredentialMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ApplicationFlexibleFederatedIdentityCredential)(nil)).Elem()
}

func (o ApplicationFlexibleFederatedIdentityCredentialMapOutput) ToApplicationFlexibleFederatedIdentityCredentialMapOutput() ApplicationFlexibleFederatedIdentityCredentialMapOutput {
	return o
}

func (o ApplicationFlexibleFederatedIdentityCredentialMapOutput) ToApplicationFlexibleFederatedIdentityCredentialMapOutputWithContext(ctx context.Context) ApplicationFlexibleFederatedIdentityCredentialMapOutput {
	return o
}

func (o ApplicationFlexibleFederatedIdentityCredentialMapOutput) MapIndex(k pulumi.StringInput) ApplicationFlexibleFederatedIdentityCredentialOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ApplicationFlexibleFederatedIdentityCredential {
		return vs[0].(map[string]*ApplicationFlexibleFederatedIdentityCredential)[vs[1].(string)]
	}).(ApplicationFlexibleFederatedIdentityCredentialOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ApplicationFlexibleFederatedIdentityCredentialInput)(nil)).Elem(), &ApplicationFlexibleFederatedIdentityCredential{})
	pulumi.RegisterInputType(reflect.TypeOf((*ApplicationFlexibleFederatedIdentityCredentialArrayInput)(nil)).Elem(), ApplicationFlexibleFederatedIdentityCredentialArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ApplicationFlexibleFederatedIdentityCredentialMapInput)(nil)).Elem(), ApplicationFlexibleFederatedIdentityCredentialMap{})
	pulumi.RegisterOutputType(ApplicationFlexibleFederatedIdentityCredentialOutput{})
	pulumi.RegisterOutputType(ApplicationFlexibleFederatedIdentityCredentialArrayOutput{})
	pulumi.RegisterOutputType(ApplicationFlexibleFederatedIdentityCredentialMapOutput{})
}
